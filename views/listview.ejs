<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title><%= title %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <style>
      table { border-collapse: collapse; width: 100%; }
      th, td { border: 1px solid #ccc; padding: 6px; text-align: center; }
      th { background: #f0f0f0; }
      .pager { margin: 8px 0; }
    </style>
  </head>
  <body>
    <h1><%= title %></h1>
    <div class="pager">
      <a href="/list?year=<%= prev.year %>&month=<%= prev.month %>">前の月</a>
      &nbsp;|&nbsp;
      <a href="/list?year=<%= next.year %>&month=<%= next.month %>">次の月</a>
    </div>

    <table>
      <thead>
        <tr>
          <th>日付</th>
          <th>無水クロム酸 (etcrox)</th>
          <th>三価クロム (etcr3x)</th>
          <th>硫酸 (etso4x)</th>
          <th>パラジウム (predip1)</th>
          <th>CRP 金属Pd (crpmpdx)</th>
        </tr>
      </thead>
      <tbody>
        <% if (!rows || rows.length === 0) { %>
          <tr><td colspan="6">該当データはありません。</td></tr>
        <% } else { %>
          <% rows.forEach(function(r){ %>
            <tr>
              <td><%= r.date ? r.date.toISOString().slice(0,10) : '' %></td>
              <td><%= r.etcrox === null ? '' : r.etcrox %></td>
              <td><%= r.etcr3x === null ? '' : r.etcr3x %></td>
              <td><%= r.etso4x === null ? '' : r.etso4x %></td>
              <td><%= r.predip1 === null ? '' : r.predip1 %></td>
              <td><%= r.crpmpdx === null ? '' : r.crpmpdx %></td>
            </tr>
          <% }); %>
        <% } %>
      </tbody>
    </table>

    <div class="pager">
      <a href="/list?year=<%= prev.year %>&month=<%= prev.month %>">◀ 前の月</a>
      &nbsp;|&nbsp;
      <a href="/list?year=<%= next.year %>&month=<%= next.month %>">次の月 ▶</a>
    </div>
  </body>
</html>
